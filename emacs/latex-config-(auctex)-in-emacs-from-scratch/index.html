<!DOCTYPE html><html lang="en"><head>&lt;!--  --&gt;<meta charset="utf-8"/><meta author="David Wilson"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="stylesheet" href="/css/bootstrap.min.css"/><link rel="stylesheet" href="/fonts/iosevka-aile/iosevka-aile.css"/><link rel="stylesheet" href="/fonts/jetbrains-mono/jetbrains-mono.css"/><link rel="stylesheet" href="/css/code.css"/><link rel="stylesheet" href="/css/site.css"/><script defer="defer" data-domain="wiki.systemcrafters.net" src="https://plausible.io/js/plausible.js"></script><title> - System Crafters</title></head><body>&lt;div&gt;&lt;div class=&quot;blog-header&quot;&gt;&lt;div class=&quot;container&quot;&gt;&lt;div class=&quot;row align-items-center justify-content-between&quot;&gt;&lt;div class=&quot;col-sm-12 col-md-8&quot;&gt;&lt;div class=&quot;blog-title&quot;&gt;System Crafters&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;col-sm col-md&quot;&gt;&lt;div class=&quot;blog-description text-sm-left text-md-right text-lg-right text-xl-right&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;blog-masthead&quot;&gt;&lt;div class=&quot;container&quot;&gt;&lt;div class=&quot;row align-items-center justify-content-between&quot;&gt;&lt;div class=&quot;col-sm-12 col-md-12&quot;&gt;&lt;nav class=&quot;nav&quot;&gt;&lt;a class=&quot;nav-link&quot; href=&quot;/&quot;&gt;Main Page&lt;/a&gt; &lt;a class=&quot;nav-link&quot; href=&quot;/emacs&quot;&gt;GNU Emacs&lt;/a&gt; &lt;a class=&quot;nav-link&quot; href=&quot;/guix&quot;&gt;GNU Guix&lt;/a&gt;&lt;a class=&quot;nav-link&quot; href=&quot;https://systemcrafters.net&quot;&gt;System Crafters Home&lt;/a&gt;&lt;form class=&quot;navbar-form navbar-right&quot; role=&quot;search&quot; action=&quot;https://duckduckgo.com/&quot;&gt;&lt;div class=&quot;form-group&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;q&quot; class=&quot;form-control&quot; placeholder=&quot;Search Wiki&quot; style=&quot;overflow: hidden;margin-top: 3%;margin-bottom: 2%;&quot;/&gt;&lt;input type=&quot;hidden&quot; name=&quot;sites&quot; value=&quot;wiki.systemcrafters.net&quot;/&gt;&lt;/div&gt;&lt;/form&gt; &lt;/nav&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<div class="container"><div class="row"><div class="col-sm-12 blog-main"><div class="blog-post"><h1 class="blog-post-title"></h1><p class="blog-post-meta"></p>&lt;div&gt;&lt;h2&gt;&lt;a id=&quot;packages-and-config&quot; class=&quot;anchor&quot; href=&quot;#packages-and-config&quot;&gt;¶&lt;/a&gt;Packages and config&lt;/h2&gt;&lt;h3&gt;&lt;a id=&quot;straight&quot; class=&quot;anchor&quot; href=&quot;#straight&quot;&gt;¶&lt;/a&gt;straight&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;defvar&lt;/span&gt; &lt;span class=&quot;org-variable-name&quot;&gt;bootstrap-version&lt;/span&gt;)
(&lt;span class=&quot;org-keyword&quot;&gt;let&lt;/span&gt; ((bootstrap-file
       (expand-file-name &lt;span class=&quot;org-string&quot;&gt;&quot;straight/repos/straight.el/bootstrap.el&quot;&lt;/span&gt; user-emacs-directory))
      (bootstrap-version 5))
  (&lt;span class=&quot;org-keyword&quot;&gt;unless&lt;/span&gt; (file-exists-p bootstrap-file)
    (&lt;span class=&quot;org-keyword&quot;&gt;with-current-buffer&lt;/span&gt;
        (url-retrieve-synchronously
         &lt;span class=&quot;org-string&quot;&gt;&quot;https://raw.githubusercontent.com/raxod502/straight.el/develop/install.el&quot;&lt;/span&gt;
         &apos;silent &apos;inhibit-cookies)
      (goto-char (point-max))
      (eval-print-last-sexp)))
  (load bootstrap-file nil &apos;nomessage))

(straight-use-package &apos;use-package)
(&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; straight-use-package-by-default t)
&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;&lt;a id=&quot;evil&quot; class=&quot;anchor&quot; href=&quot;#evil&quot;&gt;¶&lt;/a&gt;evil&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;  (&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;evil&lt;/span&gt;
    &lt;span class=&quot;org-builtin&quot;&gt;:init&lt;/span&gt;
    (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; evil-toggle-key &lt;span class=&quot;org-string&quot;&gt;&quot;C-&amp;lt;f1&amp;gt;&quot;&lt;/span&gt;)
    (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; evil-shift-width 2)
    (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; evil-want-integration t)
    (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; evil-want-keybinding nil)
    &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
    (evil-mode 1)

    &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;Use visual line motions even outside of visual-line-mode buffers&lt;/span&gt;
    (evil-global-set-key &apos;motion &lt;span class=&quot;org-string&quot;&gt;&quot;j&quot;&lt;/span&gt; &apos;evil-next-visual-line)
    (evil-global-set-key &apos;motion &lt;span class=&quot;org-string&quot;&gt;&quot;k&quot;&lt;/span&gt; &apos;evil-previous-visual-line)

    (evil-set-initial-state &apos;dired-mode &apos;emacs)
    (evil-set-initial-state &apos;pdf-view-mode &apos;emacs)
    (evil-set-initial-state &apos;messages-buffer-mode &apos;emacs)
  )

(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;evil-nerd-commenter&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:bind&lt;/span&gt; (&lt;span class=&quot;org-string&quot;&gt;&quot;M-/&quot;&lt;/span&gt; . evilnc-comment-or-uncomment-lines))

&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id=&quot;counsel-ivy-setting&quot; class=&quot;anchor&quot; href=&quot;#counsel-ivy-setting&quot;&gt;¶&lt;/a&gt;counsel, ivy setting&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;  (&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;counsel&lt;/span&gt;
    &lt;span class=&quot;org-builtin&quot;&gt;:diminish&lt;/span&gt; ivy-mode
    &lt;span class=&quot;org-builtin&quot;&gt;:diminish&lt;/span&gt; counsel-mode
    &lt;span class=&quot;org-builtin&quot;&gt;:bind&lt;/span&gt; ((&lt;span class=&quot;org-string&quot;&gt;&quot;C-s&quot;&lt;/span&gt; . swiper)
         &lt;span class=&quot;org-builtin&quot;&gt;:map&lt;/span&gt; ivy-minibuffer-map
         (&lt;span class=&quot;org-string&quot;&gt;&quot;TAB&quot;&lt;/span&gt; . ivy-alt-done))
    &lt;span class=&quot;org-builtin&quot;&gt;:init&lt;/span&gt;
    (ivy-mode 1)
    (counsel-mode 1)
    &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
    (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; ivy-use-virtual-buffers t)
    (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; enable-recursive-minibuffers t))

  (&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;prescient&lt;/span&gt;
    &lt;span class=&quot;org-builtin&quot;&gt;:diminish&lt;/span&gt;
    &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
    &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;(prescient-persist-mode)&lt;/span&gt;
)


  (&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;ivy-prescient&lt;/span&gt;
    &lt;span class=&quot;org-builtin&quot;&gt;:after&lt;/span&gt; counsel
    &lt;span class=&quot;org-builtin&quot;&gt;:init&lt;/span&gt;
    (ivy-prescient-mode)
    (prescient-persist-mode)
    )
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id=&quot;company&quot; class=&quot;anchor&quot; href=&quot;#company&quot;&gt;¶&lt;/a&gt;company&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;company&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:straight&lt;/span&gt; (company &lt;span class=&quot;org-builtin&quot;&gt;:files&lt;/span&gt; (&lt;span class=&quot;org-builtin&quot;&gt;:defaults&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;icons&quot;&lt;/span&gt;))
  &lt;span class=&quot;org-builtin&quot;&gt;:diminish&lt;/span&gt; company-mode
  &lt;span class=&quot;org-builtin&quot;&gt;:bind&lt;/span&gt; (&lt;span class=&quot;org-builtin&quot;&gt;:map&lt;/span&gt; company-active-map
          (&lt;span class=&quot;org-string&quot;&gt;&quot;&amp;lt;tab&amp;gt;&quot;&lt;/span&gt; . nil)
          (&lt;span class=&quot;org-string&quot;&gt;&quot;TAB&quot;&lt;/span&gt; . nil))
  &lt;span class=&quot;org-builtin&quot;&gt;:custom&lt;/span&gt;
  (company-minimum-prefix-length 2)
  (company-idle-delay 0.01)
  &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
 )

(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;company-prescient&lt;/span&gt;
    &lt;span class=&quot;org-builtin&quot;&gt;:after&lt;/span&gt; company
    &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
    (company-prescient-mode 1)
    (prescient-persist-mode)
  )
&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;&lt;a id=&quot;magit-which-key&quot; class=&quot;anchor&quot; href=&quot;#magit-which-key&quot;&gt;¶&lt;/a&gt;magit, which key&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;which-key&lt;/span&gt;
  &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;:ensure t&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:diminish&lt;/span&gt; which-key-mode
  &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
     (which-key-mode))

&lt;span class=&quot;org-comment-delimiter&quot;&gt;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;magit&lt;/span&gt;
(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;magit&lt;/span&gt;
  &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;:ensure t&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:defer&lt;/span&gt; t
  &lt;span class=&quot;org-builtin&quot;&gt;:bind&lt;/span&gt; (&lt;span class=&quot;org-string&quot;&gt;&quot;C-x g&quot;&lt;/span&gt; . magit-status))
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id=&quot;pdf-tools&quot; class=&quot;anchor&quot; href=&quot;#pdf-tools&quot;&gt;¶&lt;/a&gt;pdf-tools&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;pdf-tools&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:magic&lt;/span&gt; (&lt;span class=&quot;org-string&quot;&gt;&quot;%PDF&quot;&lt;/span&gt; . pdf-view-mode)
  &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
  (pdf-tools-install)
  (&lt;span class=&quot;org-keyword&quot;&gt;setq-default&lt;/span&gt; pdf-view-display-size &apos;fit-page)
  )

&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;&lt;a id=&quot;custom-functions&quot; class=&quot;anchor&quot; href=&quot;#custom-functions&quot;&gt;¶&lt;/a&gt;Custom functions&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;
(&lt;span class=&quot;org-keyword&quot;&gt;defun&lt;/span&gt; &lt;span class=&quot;org-function-name&quot;&gt;try/TeX-command-save-buffer-and-run-all&lt;/span&gt; ()
    &lt;span class=&quot;org-doc&quot;&gt;&quot;Save the buffer and run TeX-command-run-all&quot;&lt;/span&gt;
    (&lt;span class=&quot;org-keyword&quot;&gt;interactive&lt;/span&gt;)
    (&lt;span class=&quot;org-keyword&quot;&gt;let&lt;/span&gt; (TeX-save-query) (TeX-save-document (TeX-master-file)))
    (TeX-command-run-all nil))

&lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;copied ivy-bibtex and modified it to cite action&lt;/span&gt;
(&lt;span class=&quot;org-keyword&quot;&gt;defun&lt;/span&gt; &lt;span class=&quot;org-function-name&quot;&gt;try/ivy-bibtex-cite&lt;/span&gt; (&lt;span class=&quot;org-type&quot;&gt;&amp;amp;optional&lt;/span&gt; arg local-bib)
  &lt;span class=&quot;org-doc&quot;&gt;&quot;Search BibTeX entries using ivy.&lt;/span&gt;

&lt;span class=&quot;org-doc&quot;&gt;With a prefix ARG the cache is invalidated and the bibliography&lt;/span&gt;
&lt;span class=&quot;org-doc&quot;&gt;reread.&lt;/span&gt;

&lt;span class=&quot;org-doc&quot;&gt;If LOCAL-BIB is non-nil, display that the BibTeX entries are read&lt;/span&gt;
&lt;span class=&quot;org-doc&quot;&gt;from the local bibliography.  This is set internally by&lt;/span&gt;
&lt;span class=&quot;org-doc&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;org-doc&quot;&gt;&lt;span class=&quot;org-constant&quot;&gt;ivy-bibtex-with-local-bibliography&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-doc&quot;&gt;&apos;.&quot;&lt;/span&gt;
  (&lt;span class=&quot;org-keyword&quot;&gt;interactive&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;P&quot;&lt;/span&gt;)
  (&lt;span class=&quot;org-keyword&quot;&gt;when&lt;/span&gt; arg
    (bibtex-completion-clear-cache))
  (bibtex-completion-init)
  (&lt;span class=&quot;org-keyword&quot;&gt;let*&lt;/span&gt; ((candidates (bibtex-completion-candidates))
          (key (bibtex-completion-key-at-point))
          (preselect (&lt;span class=&quot;org-keyword&quot;&gt;and&lt;/span&gt; key
                          (cl-position-if (&lt;span class=&quot;org-keyword&quot;&gt;lambda&lt;/span&gt; (cand)
                                            (member (cons &lt;span class=&quot;org-string&quot;&gt;&quot;=key=&quot;&lt;/span&gt; key)
                                                    (cdr cand)))
                                          candidates))))
    (ivy-read (format &lt;span class=&quot;org-string&quot;&gt;&quot;Insert citation %s: &quot;&lt;/span&gt; (&lt;span class=&quot;org-keyword&quot;&gt;if&lt;/span&gt; local-bib &lt;span class=&quot;org-string&quot;&gt;&quot; (local)&quot;&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;&quot;&lt;/span&gt;))
              candidates
              &lt;span class=&quot;org-builtin&quot;&gt;:preselect&lt;/span&gt; preselect
              &lt;span class=&quot;org-builtin&quot;&gt;:caller&lt;/span&gt; &apos;ivy-bibtex
              &lt;span class=&quot;org-builtin&quot;&gt;:history&lt;/span&gt; &apos;ivy-bibtex-history
              &lt;span class=&quot;org-builtin&quot;&gt;:action&lt;/span&gt; &apos;ivy-bibtex-insert-citation)))

(&lt;span class=&quot;org-keyword&quot;&gt;defun&lt;/span&gt; &lt;span class=&quot;org-function-name&quot;&gt;try/latex-mode-setup&lt;/span&gt; ()
  (&lt;span class=&quot;org-keyword&quot;&gt;require&lt;/span&gt; &apos;&lt;span class=&quot;org-constant&quot;&gt;company-reftex&lt;/span&gt;)
        (turn-on-reftex)
        (&lt;span class=&quot;org-keyword&quot;&gt;require&lt;/span&gt; &apos;&lt;span class=&quot;org-constant&quot;&gt;company-auctex&lt;/span&gt;)
        (&lt;span class=&quot;org-keyword&quot;&gt;require&lt;/span&gt; &apos;&lt;span class=&quot;org-constant&quot;&gt;company-math&lt;/span&gt;)
(&lt;span class=&quot;org-keyword&quot;&gt;setq-local&lt;/span&gt; company-backends
      
    (append &apos;(
                              (company-reftex-labels
                                company-reftex-citations)
              (company-math-symbols-unicode company-math-symbols-latex company-latex-commands)
              (company-auctex-macros company-auctex-symbols company-auctex-environments)
              company-ispell
              )
            company-backends)))


(&lt;span class=&quot;org-keyword&quot;&gt;defun&lt;/span&gt; &lt;span class=&quot;org-function-name&quot;&gt;try/counsel-insert-file-path&lt;/span&gt; ()
  &lt;span class=&quot;org-doc&quot;&gt;&quot;Insert relative file path using counsel minibuffer&quot;&lt;/span&gt;
  (&lt;span class=&quot;org-keyword&quot;&gt;interactive&lt;/span&gt;)
  (&lt;span class=&quot;org-keyword&quot;&gt;unless&lt;/span&gt; (&lt;span class=&quot;org-keyword&quot;&gt;featurep&lt;/span&gt; &apos;&lt;span class=&quot;org-constant&quot;&gt;counsel&lt;/span&gt;) (&lt;span class=&quot;org-keyword&quot;&gt;require&lt;/span&gt; &apos;&lt;span class=&quot;org-constant&quot;&gt;counsel&lt;/span&gt;))
  (ivy-read &lt;span class=&quot;org-string&quot;&gt;&quot;Insert filename: &quot;&lt;/span&gt; &apos;read-file-name-internal
            &lt;span class=&quot;org-builtin&quot;&gt;:matcher&lt;/span&gt; #&apos;counsel--find-file-matcher
            &lt;span class=&quot;org-builtin&quot;&gt;:action&lt;/span&gt;
            (&lt;span class=&quot;org-keyword&quot;&gt;lambda&lt;/span&gt; (x)
              (insert (file-relative-name x)))))

&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;&lt;a id=&quot;olivetti&quot; class=&quot;anchor&quot; href=&quot;#olivetti&quot;&gt;¶&lt;/a&gt;Olivetti&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;olivetti&lt;/span&gt;
&lt;span class=&quot;org-builtin&quot;&gt;:diminish&lt;/span&gt;
&lt;span class=&quot;org-builtin&quot;&gt;:hook&lt;/span&gt; (text-mode . olivetti-mode)
&lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
(&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; olivetti-body-width 100)
)
&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;&lt;a id=&quot;latex&quot; class=&quot;anchor&quot; href=&quot;#latex&quot;&gt;¶&lt;/a&gt;latex&lt;/h3&gt;&lt;h4&gt;&lt;a id=&quot;foldingunfolding-like-org-mode&quot; class=&quot;anchor&quot; href=&quot;#foldingunfolding-like-org-mode&quot;&gt;¶&lt;/a&gt;folding/unfolding like org-mode&lt;/h4&gt;&lt;p&gt;Enable folding and unfolding sections just like org-mode (using &lt;kbd&gt;TAB&lt;/kbd&gt;) using &lt;a href=&quot;https://github.com/alphapapa/outshine/issues/85&quot;&gt;outshine&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;Check &lt;kbd&gt;outshine-cycle&lt;/kbd&gt; for more options.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;outshine&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
(&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; LaTeX-section-list &apos;(
                           (&lt;span class=&quot;org-string&quot;&gt;&quot;part&quot;&lt;/span&gt; 0)
                           (&lt;span class=&quot;org-string&quot;&gt;&quot;chapter&quot;&lt;/span&gt; 1)
                           (&lt;span class=&quot;org-string&quot;&gt;&quot;section&quot;&lt;/span&gt; 2)
                           (&lt;span class=&quot;org-string&quot;&gt;&quot;subsection&quot;&lt;/span&gt; 3)
                           (&lt;span class=&quot;org-string&quot;&gt;&quot;subsubsection&quot;&lt;/span&gt; 4)
                           (&lt;span class=&quot;org-string&quot;&gt;&quot;paragraph&quot;&lt;/span&gt; 5)
                           (&lt;span class=&quot;org-string&quot;&gt;&quot;subparagraph&quot;&lt;/span&gt; 6)
                           (&lt;span class=&quot;org-string&quot;&gt;&quot;begin&quot;&lt;/span&gt; 7)
                           )
      )
(add-hook &apos;LaTeX-mode-hook #&apos;(lambda ()
                               (outshine-mode 1)
                               (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; outline-level #&apos;LaTeX-outline-level)
                               (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; outline-regexp (LaTeX-outline-regexp t))
                               (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; outline-heading-alist
                                     (mapcar (&lt;span class=&quot;org-keyword&quot;&gt;lambda&lt;/span&gt; (x)
                                               (cons (concat &lt;span class=&quot;org-string&quot;&gt;&quot;\\&quot;&lt;/span&gt; (nth 0 x)) (nth 1 x)))
                                             LaTeX-section-list))))

  )

    (general-define-key
      &lt;span class=&quot;org-builtin&quot;&gt;:states&lt;/span&gt; &apos;(normal visual)
      &lt;span class=&quot;org-builtin&quot;&gt;:keymaps&lt;/span&gt; &apos;LaTeX-mode-map
      &lt;span class=&quot;org-string&quot;&gt;&quot;TAB&quot;&lt;/span&gt;  &apos;(outshine-cycle &lt;span class=&quot;org-builtin&quot;&gt;:which-key&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;outshine-cycle&quot;&lt;/span&gt;)
  )
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;&lt;a id=&quot;auctex&quot; class=&quot;anchor&quot; href=&quot;#auctex&quot;&gt;¶&lt;/a&gt;auctex&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://people.umass.edu/weikaichen/post/emacs-academic-tools/&quot;&gt;source: blog&lt;/a&gt;
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;
      &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;latexmk&lt;/span&gt;
      (&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;auctex-latexmk&lt;/span&gt;)
      &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;company&lt;/span&gt;
      (&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;company-math&lt;/span&gt;)
      (&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;company-auctex&lt;/span&gt;)
(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;company-reftex&lt;/span&gt;)


      &lt;span class=&quot;org-comment-delimiter&quot;&gt;;;  &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;use cdlatex&lt;/span&gt;
      (&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;cdlatex&lt;/span&gt;)

      &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;https://gist.github.com/saevarb/367d3266b3f302ecc896&lt;/span&gt;
      &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;https://piotr.is/2010/emacs-as-the-ultimate-latex-editor/&lt;/span&gt;

      (&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;latex&lt;/span&gt;
        &lt;span class=&quot;org-builtin&quot;&gt;:straight&lt;/span&gt; auctex
        &lt;span class=&quot;org-builtin&quot;&gt;:defer&lt;/span&gt; t
        &lt;span class=&quot;org-builtin&quot;&gt;:custom&lt;/span&gt;
        (olivetti-body-width 100)
        (cdlatex-simplify-sub-super-scripts nil)
        (reftex-default-bibliography
              &apos;(&lt;span class=&quot;org-string&quot;&gt;&quot;~/ref.bib&quot;&lt;/span&gt;))
        (bibtex-dialect &apos;biblatex)
        &lt;span class=&quot;org-builtin&quot;&gt;:mode&lt;/span&gt;
          (&lt;span class=&quot;org-string&quot;&gt;&quot;\\.tex\\&apos;&quot;&lt;/span&gt; . latex-mode)
        &lt;span class=&quot;org-builtin&quot;&gt;:bind&lt;/span&gt; (&lt;span class=&quot;org-builtin&quot;&gt;:map&lt;/span&gt; LaTeX-mode-map
                  (&lt;span class=&quot;org-string&quot;&gt;&quot;C-c C-e&quot;&lt;/span&gt; . cdlatex-environment)
              )
        &lt;span class=&quot;org-builtin&quot;&gt;:hook&lt;/span&gt;
          (LaTeX-mode . olivetti-mode)
          (LaTeX-mode . TeX-PDF-mode)
          (LaTeX-mode . company-mode)
          (LaTeX-mode . flyspell-mode)
          (LaTeX-mode . flycheck-mode)
          (LaTeX-mode . LaTeX-math-mode)
          (LaTeX-mode . turn-on-reftex)
          (LaTeX-mode . TeX-source-correlate-mode)
          (LaTeX-mode . try/latex-mode-setup)
          (LaTeX-mode . turn-on-cdlatex)

        &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
          (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; TeX-auto-save t)
          (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; TeX-parse-self t)
          (&lt;span class=&quot;org-keyword&quot;&gt;setq-default&lt;/span&gt; TeX-master nil)
          (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; TeX-save-query nil)

          (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; reftex-plug-into-AUCTeX t)

          &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;pdftools&lt;/span&gt;
          &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;https://emacs.stackexchange.com/questions/21755/use-pdfview-as-default-auctex-pdf-viewer#21764&lt;/span&gt;
          (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; TeX-view-program-selection &apos;((output-pdf &lt;span class=&quot;org-string&quot;&gt;&quot;PDF Tools&quot;&lt;/span&gt;))
              TeX-view-program-list &apos;((&lt;span class=&quot;org-string&quot;&gt;&quot;PDF Tools&quot;&lt;/span&gt; TeX-pdf-tools-sync-view))
              TeX-source-correlate-start-server t) &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;not sure if last line is neccessary&lt;/span&gt;
          &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;to have the buffer refresh after compilation,&lt;/span&gt;
          &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;very important so that PDFView refesh itself after comilation&lt;/span&gt;
          (add-hook &apos;TeX-after-compilation-finished-functions
                      #&apos;TeX-revert-document-buffer)

          &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;latexmk&lt;/span&gt;
          (&lt;span class=&quot;org-keyword&quot;&gt;require&lt;/span&gt; &apos;&lt;span class=&quot;org-constant&quot;&gt;auctex-latexmk&lt;/span&gt;)
          (auctex-latexmk-setup)
          (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; auctex-latexmk-inherit-TeX-PDF-mode t)
      )
&lt;/code&gt;&lt;/pre&gt;

&lt;h4&gt;&lt;a id=&quot;ivy-bibtex&quot; class=&quot;anchor&quot; href=&quot;#ivy-bibtex&quot;&gt;¶&lt;/a&gt;ivy-bibtex&lt;/h4&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;
(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;ivy-bibtex&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:custom&lt;/span&gt;
  (bibtex-completion-bibliography
        &apos;(&lt;span class=&quot;org-string&quot;&gt;&quot;~/ref.bib&quot;&lt;/span&gt;))
  (bibtex-completion-library-path &apos;(&lt;span class=&quot;org-string&quot;&gt;&quot;~/papers&quot;&lt;/span&gt;))
  (bibtex-completion-cite-prompt-for-optional-arguments nil)
  (bibtex-completion-cite-default-as-initial-input t)
)

&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;&lt;a id=&quot;org-ref&quot; class=&quot;anchor&quot; href=&quot;#org-ref&quot;&gt;¶&lt;/a&gt;org-ref&lt;/h4&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;org-ref&lt;/span&gt;
&lt;span class=&quot;org-builtin&quot;&gt;:custom&lt;/span&gt;
(org-ref-default-bibliography &lt;span class=&quot;org-string&quot;&gt;&quot;~/ref.bib&quot;&lt;/span&gt;)
(org-ref-pdf-directory &lt;span class=&quot;org-string&quot;&gt;&quot;~/papers&quot;&lt;/span&gt;)
(org-ref-completion-library &apos;org-ref-ivy-cite)
&lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
(&lt;span class=&quot;org-keyword&quot;&gt;require&lt;/span&gt; &apos;&lt;span class=&quot;org-constant&quot;&gt;org-ref-wos&lt;/span&gt;)
(&lt;span class=&quot;org-keyword&quot;&gt;require&lt;/span&gt; &apos;&lt;span class=&quot;org-constant&quot;&gt;doi-utils&lt;/span&gt;)
)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;&lt;a id=&quot;keybinding&quot; class=&quot;anchor&quot; href=&quot;#keybinding&quot;&gt;¶&lt;/a&gt;Keybinding&lt;/h2&gt;&lt;p&gt;Use &lt;kbd&gt;SPC&lt;/kbd&gt; has leader key (in evil normal mode) for local latex mode keybindings
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;
(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;general&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
  (general-evil-setup t))

  (general-define-key
    &lt;span class=&quot;org-builtin&quot;&gt;:states&lt;/span&gt; &apos;(normal visual)
    &lt;span class=&quot;org-builtin&quot;&gt;:keymaps&lt;/span&gt; &apos;LaTeX-mode-map
    &lt;span class=&quot;org-builtin&quot;&gt;:prefix&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;SPC&quot;&lt;/span&gt;
      &lt;span class=&quot;org-string&quot;&gt;&quot;f&quot;&lt;/span&gt;  &apos;(LaTeX-fill-region &lt;span class=&quot;org-builtin&quot;&gt;:which-key&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;latex-fill-region&quot;&lt;/span&gt;)
      &lt;span class=&quot;org-string&quot;&gt;&quot;SPC&quot;&lt;/span&gt;  &apos;(try/TeX-command-save-buffer-and-run-all &lt;span class=&quot;org-builtin&quot;&gt;:which-key&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;latex-save-run&quot;&lt;/span&gt;)
      &lt;span class=&quot;org-string&quot;&gt;&quot;c&quot;&lt;/span&gt;  &apos;(try/ivy-bibtex-cite &lt;span class=&quot;org-builtin&quot;&gt;:which-key&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;ivy-cite&quot;&lt;/span&gt;)
      &lt;span class=&quot;org-string&quot;&gt;&quot;i&quot;&lt;/span&gt;   &apos;(try/counsel-insert-file-path &lt;span class=&quot;org-builtin&quot;&gt;:which-key&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;insert-relative-filepath&quot;&lt;/span&gt;)
      &lt;span class=&quot;org-string&quot;&gt;&quot;b&quot;&lt;/span&gt; &apos;(ivy-bibtex &lt;span class=&quot;org-builtin&quot;&gt;:which-key&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;ivy-bibtex&quot;&lt;/span&gt;)
      &lt;span class=&quot;org-string&quot;&gt;&quot;t&quot;&lt;/span&gt; &apos;(tab-bar-switch-to-tab &lt;span class=&quot;org-builtin&quot;&gt;:which-key&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;tab-switch-name&quot;&lt;/span&gt;)
   &lt;span class=&quot;org-string&quot;&gt;&quot;o&quot;&lt;/span&gt;  &apos;(outshine-imenu &lt;span class=&quot;org-builtin&quot;&gt;:which-key&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;menu&quot;&lt;/span&gt;)
   &lt;span class=&quot;org-string&quot;&gt;&quot;t&quot;&lt;/span&gt;  &apos;(outshine-cycle-buffer &lt;span class=&quot;org-builtin&quot;&gt;:which-key&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;fold-buffer&quot;&lt;/span&gt;)
  )
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;&lt;a id=&quot;workflow&quot; class=&quot;anchor&quot; href=&quot;#workflow&quot;&gt;¶&lt;/a&gt;Workflow&lt;/h2&gt;&lt;p&gt;TODO
&lt;/p&gt;
&lt;/div&gt;</div></div></div></div>&lt;footer class=&quot;blog-footer&quot;&gt;&lt;div class=&quot;container&quot;&gt;&lt;div class=&quot;row&quot;&gt;&lt;div class=&quot;col-sm col-md text-sm-left text-md-right text-lg-right text-xl-right&quot;&gt;&lt;p&gt;Made with Emacs 27.2 (Org mode 9.4.4)&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://systemcrafters.net/privacy-policy/&quot;&gt;Privacy Policy&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/footer&gt;&lt;script src=&quot;/js/bootstrap.bundle.min.js&quot;/&gt;</body></html>
