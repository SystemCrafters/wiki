<!DOCTYPE html><html lang="en"><head>&lt;!--  --&gt;<meta charset="utf-8"/><meta author="David Wilson"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="stylesheet" href="/css/bootstrap.min.css"/><link rel="stylesheet" href="/fonts/iosevka-aile/iosevka-aile.css"/><link rel="stylesheet" href="/fonts/jetbrains-mono/jetbrains-mono.css"/><link rel="stylesheet" href="/css/code.css"/><link rel="stylesheet" href="/css/site.css"/><script defer="defer" data-domain="wiki.systemcrafters.net" src="https://plausible.io/js/plausible.js"></script><title> - System Crafters</title></head><body>&lt;div&gt;&lt;div class=&quot;blog-header&quot;&gt;&lt;div class=&quot;container&quot;&gt;&lt;div class=&quot;row align-items-center justify-content-between&quot;&gt;&lt;div class=&quot;col-sm-12 col-md-8&quot;&gt;&lt;div class=&quot;blog-title&quot;&gt;System Crafters&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;col-sm col-md&quot;&gt;&lt;div class=&quot;blog-description text-sm-left text-md-right text-lg-right text-xl-right&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;blog-masthead&quot;&gt;&lt;div class=&quot;container&quot;&gt;&lt;div class=&quot;row align-items-center justify-content-between&quot;&gt;&lt;div class=&quot;col-sm-12 col-md-12&quot;&gt;&lt;nav class=&quot;nav&quot;&gt;&lt;a class=&quot;nav-link&quot; href=&quot;/&quot;&gt;Main Page&lt;/a&gt; &lt;a class=&quot;nav-link&quot; href=&quot;/emacs&quot;&gt;GNU Emacs&lt;/a&gt; &lt;a class=&quot;nav-link&quot; href=&quot;/guix&quot;&gt;GNU Guix&lt;/a&gt;&lt;a class=&quot;nav-link&quot; href=&quot;https://systemcrafters.net&quot;&gt;System Crafters Home&lt;/a&gt;&lt;form class=&quot;navbar-form navbar-right&quot; role=&quot;search&quot; action=&quot;https://duckduckgo.com/&quot;&gt;&lt;div class=&quot;form-group&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;q&quot; class=&quot;form-control&quot; placeholder=&quot;Search Wiki&quot; style=&quot;overflow: hidden;margin-top: 3%;margin-bottom: 2%;&quot;/&gt;&lt;input type=&quot;hidden&quot; name=&quot;sites&quot; value=&quot;wiki.systemcrafters.net&quot;/&gt;&lt;/div&gt;&lt;/form&gt; &lt;/nav&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<div class="container"><div class="row"><div class="col-sm-12 blog-main"><div class="blog-post"><h1 class="blog-post-title"></h1><p class="blog-post-meta"></p>&lt;div&gt;&lt;h2&gt;&lt;a id=&quot;straightel-installation&quot; class=&quot;anchor&quot; href=&quot;#straightel-installation&quot;&gt;¶&lt;/a&gt;straight.el installation&lt;/h2&gt;&lt;p&gt;We will use &lt;a href=&quot;https://github.com/raxod502/straight.el&quot;&gt;straight.el&lt;/a&gt; package manager instead of default emacs package manager
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;defvar&lt;/span&gt; &lt;span class=&quot;org-variable-name&quot;&gt;bootstrap-version&lt;/span&gt;)
(&lt;span class=&quot;org-keyword&quot;&gt;let&lt;/span&gt; ((bootstrap-file
       (expand-file-name &lt;span class=&quot;org-string&quot;&gt;&quot;straight/repos/straight.el/bootstrap.el&quot;&lt;/span&gt; user-emacs-directory))
      (bootstrap-version 5))
  (&lt;span class=&quot;org-keyword&quot;&gt;unless&lt;/span&gt; (file-exists-p bootstrap-file)
    (&lt;span class=&quot;org-keyword&quot;&gt;with-current-buffer&lt;/span&gt;
        (url-retrieve-synchronously
         &lt;span class=&quot;org-string&quot;&gt;&quot;https://raw.githubusercontent.com/raxod502/straight.el/develop/install.el&quot;&lt;/span&gt;
         &apos;silent &apos;inhibit-cookies)
      (goto-char (point-max))
      (eval-print-last-sexp)))
  (load bootstrap-file nil &apos;nomessage))

(straight-use-package &apos;use-package)
(&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; straight-use-package-by-default t)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id=&quot;evil-package&quot; class=&quot;anchor&quot; href=&quot;#evil-package&quot;&gt;¶&lt;/a&gt;evil package&lt;/h2&gt;&lt;h3&gt;&lt;a id=&quot;main-a-hrefhttpsgithubcomemacs-evilevilevila-package&quot; class=&quot;anchor&quot; href=&quot;#main-a-hrefhttpsgithubcomemacs-evilevilevila-package&quot;&gt;¶&lt;/a&gt;main &lt;a href=&quot;https://github.com/emacs-evil/evil&quot;&gt;evil&lt;/a&gt; package&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;evil&lt;/span&gt;
    &lt;span class=&quot;org-builtin&quot;&gt;:init&lt;/span&gt;
    (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; evil-toggle-key &lt;span class=&quot;org-string&quot;&gt;&quot;C-&amp;lt;f1&amp;gt;&quot;&lt;/span&gt;)
    (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; evil-shift-width 2)
    (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; evil-want-integration t)
    (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; evil-want-keybinding nil)
    &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
    (evil-mode 1)

    &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;Use visual line motions even outside of visual-line-mode buffers&lt;/span&gt;
    (evil-global-set-key &apos;motion &lt;span class=&quot;org-string&quot;&gt;&quot;j&quot;&lt;/span&gt; &apos;evil-next-visual-line)
    (evil-global-set-key &apos;motion &lt;span class=&quot;org-string&quot;&gt;&quot;k&quot;&lt;/span&gt; &apos;evil-previous-visual-line)

    (evil-set-initial-state &apos;dired-mode &apos;emacs)
    (evil-set-initial-state &apos;pdf-view-mode &apos;emacs)
    (evil-set-initial-state &apos;messages-buffer-mode &apos;emacs)
    (evil-set-initial-state &apos;special-mode &apos;emacs)
    (evil-set-initial-state &apos;view-mode &apos;emacs)
    (evil-set-initial-state &apos;deft-mode &apos;emacs)
  )


&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id=&quot;evil-commentor&quot; class=&quot;anchor&quot; href=&quot;#evil-commentor&quot;&gt;¶&lt;/a&gt;evil commentor&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/redguardtoo/evil-nerd-commenter&quot;&gt;This&lt;/a&gt; package is used for commenting lines in emacs
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;evil-nerd-commenter&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:bind&lt;/span&gt; (&lt;span class=&quot;org-string&quot;&gt;&quot;M-/&quot;&lt;/span&gt; . evilnc-comment-or-uncomment-lines))
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id=&quot;undo-tree&quot; class=&quot;anchor&quot; href=&quot;#undo-tree&quot;&gt;¶&lt;/a&gt;undo tree&lt;/h3&gt;&lt;p&gt;for proper working of evil keybindings
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;undo-tree&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:diminish&lt;/span&gt; undo-tree-mode
  &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
  (global-undo-tree-mode)
  )
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id=&quot;counsel-ivy-setting&quot; class=&quot;anchor&quot; href=&quot;#counsel-ivy-setting&quot;&gt;¶&lt;/a&gt;counsel ivy setting&lt;/h2&gt;&lt;h3&gt;&lt;a id=&quot;main-package&quot; class=&quot;anchor&quot; href=&quot;#main-package&quot;&gt;¶&lt;/a&gt;main package&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/abo-abo/swiper&quot;&gt;ivy/counsel/swiper&lt;/a&gt; is used for minibuffer completitions and searching
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;counsel&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:diminish&lt;/span&gt; ivy-mode
  &lt;span class=&quot;org-builtin&quot;&gt;:diminish&lt;/span&gt; counsel-mode
  &lt;span class=&quot;org-builtin&quot;&gt;:bind&lt;/span&gt; ((&lt;span class=&quot;org-string&quot;&gt;&quot;C-s&quot;&lt;/span&gt; . swiper)
         &lt;span class=&quot;org-builtin&quot;&gt;:map&lt;/span&gt; ivy-minibuffer-map
         (&lt;span class=&quot;org-string&quot;&gt;&quot;TAB&quot;&lt;/span&gt; . ivy-alt-done))
  &lt;span class=&quot;org-builtin&quot;&gt;:init&lt;/span&gt;
  (ivy-mode 1)
  (counsel-mode 1)
  &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
  (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; ivy-use-virtual-buffers t)
  (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; enable-recursive-minibuffers t))

&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;&lt;a id=&quot;prescientel&quot; class=&quot;anchor&quot; href=&quot;#prescientel&quot;&gt;¶&lt;/a&gt;prescient.el&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/raxod502/prescient.el&quot;&gt;this&lt;/a&gt; package give better completions in ivy minibuffer based on recent usage
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;
(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;prescient&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:diminish&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
  )

(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;ivy-prescient&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:after&lt;/span&gt; counsel
  &lt;span class=&quot;org-builtin&quot;&gt;:init&lt;/span&gt;
  (ivy-prescient-mode)
  (prescient-persist-mode)
  )
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;&lt;a id=&quot;other-useful-tools&quot; class=&quot;anchor&quot; href=&quot;#other-useful-tools&quot;&gt;¶&lt;/a&gt;other useful tools&lt;/h2&gt;&lt;h3&gt;&lt;a id=&quot;olivetti-whichkey-magit&quot; class=&quot;anchor&quot; href=&quot;#olivetti-whichkey-magit&quot;&gt;¶&lt;/a&gt;olivetti, whichkey, magit&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;  (&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;olivetti&lt;/span&gt;
    &lt;span class=&quot;org-builtin&quot;&gt;:diminish&lt;/span&gt;
    &lt;span class=&quot;org-builtin&quot;&gt;:hook&lt;/span&gt;
    (text-mode . olivetti-mode)
    &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
    (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; olivetti-body-width 100)
    )
&lt;span class=&quot;org-comment-delimiter&quot;&gt;;;&lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;which-key&lt;/span&gt;
      (&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;which-key&lt;/span&gt;
        &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;:ensure t&lt;/span&gt;
        &lt;span class=&quot;org-builtin&quot;&gt;:diminish&lt;/span&gt; which-key-mode
        &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
           (which-key-mode))

      &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;magit&lt;/span&gt;
      (&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;magit&lt;/span&gt;
        &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;:ensure t&lt;/span&gt;
        &lt;span class=&quot;org-builtin&quot;&gt;:defer&lt;/span&gt; t
        &lt;span class=&quot;org-builtin&quot;&gt;:bind&lt;/span&gt; (&lt;span class=&quot;org-string&quot;&gt;&quot;C-x g&quot;&lt;/span&gt; . magit-status))
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id=&quot;org-mode&quot; class=&quot;anchor&quot; href=&quot;#org-mode&quot;&gt;¶&lt;/a&gt;org-mode&lt;/h2&gt;&lt;h3&gt;&lt;a id=&quot;main&quot; class=&quot;anchor&quot; href=&quot;#main&quot;&gt;¶&lt;/a&gt;main&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;defun&lt;/span&gt; &lt;span class=&quot;org-function-name&quot;&gt;my/org-mode-setup&lt;/span&gt; ()
  (org-indent-mode)
  (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; evil-auto-indent nil
        )
  &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;remove olivetti keybindings&lt;/span&gt;
  &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;https://emacs.stackexchange.com/questions/32389/how-do-you-disable-all-keybinding-for-a-package&lt;/span&gt;
  (eval-after-load &lt;span class=&quot;org-string&quot;&gt;&quot;olivetti&quot;&lt;/span&gt;
    &apos;(assq-delete-all &apos;olivetti-mode minor-mode-map-alist))
  )

(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;org&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:straight&lt;/span&gt; org-plus-contrib
  &lt;span class=&quot;org-builtin&quot;&gt;:hook&lt;/span&gt; 
  (org-mode . olivetti-mode)
  (org-mode . which-function-mode)
  (org-mode . my/org-mode-setup)
  &lt;span class=&quot;org-builtin&quot;&gt;:custom&lt;/span&gt;
  (olivetti-body-width 100)
  (org-imenu-depth 4)
  &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
  (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; org-ellipsis &lt;span class=&quot;org-string&quot;&gt;&quot; &amp;#9662;&quot;&lt;/span&gt;)
  )
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id=&quot;org-roam&quot; class=&quot;anchor&quot; href=&quot;#org-roam&quot;&gt;¶&lt;/a&gt;org roam&lt;/h3&gt;&lt;p&gt;Assumed &lt;kbd&gt;~/.org-roam&lt;/kbd&gt; as &lt;kbd&gt;org-roam-directory&lt;/kbd&gt; and &lt;kbd&gt;index.org&lt;/kbd&gt; in it is the index file
&lt;/p&gt;
&lt;h4&gt;&lt;a id=&quot;main&quot; class=&quot;anchor&quot; href=&quot;#main&quot;&gt;¶&lt;/a&gt;main&lt;/h4&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;org-roam&lt;/span&gt;
  &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;:ensure t&lt;/span&gt;
  &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;:hook&lt;/span&gt;
  &lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;(after-init . org-roam-mode)&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:custom&lt;/span&gt;
  (org-roam-directory &lt;span class=&quot;org-string&quot;&gt;&quot;~/.org-roam&quot;&lt;/span&gt;)
  (org-roam-index-file &lt;span class=&quot;org-string&quot;&gt;&quot;~/.org-roam/index.org&quot;&lt;/span&gt;)
  )
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;&lt;a id=&quot;a-hrefhttpsgithubcomglucasdeftdefta&quot; class=&quot;anchor&quot; href=&quot;#a-hrefhttpsgithubcomglucasdeftdefta&quot;&gt;¶&lt;/a&gt;&lt;a href=&quot;https://github.com/glucas/deft&quot;&gt;deft&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Useful package to quickly search in all org-roam notes and go to them
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;deft&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:bind&lt;/span&gt; (&lt;span class=&quot;org-string&quot;&gt;&quot;&amp;lt;f8&amp;gt;&quot;&lt;/span&gt; . deft)
  &lt;span class=&quot;org-builtin&quot;&gt;:commands&lt;/span&gt; (deft)
  &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt; (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; deft-directory &lt;span class=&quot;org-string&quot;&gt;&quot;~/.org-roam&quot;&lt;/span&gt;
                deft-extensions &apos;(&lt;span class=&quot;org-string&quot;&gt;&quot;md&quot;&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;org&quot;&lt;/span&gt;)))
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id=&quot;custom-functions&quot; class=&quot;anchor&quot; href=&quot;#custom-functions&quot;&gt;¶&lt;/a&gt;Custom functions&lt;/h2&gt;&lt;p&gt;This function will give &lt;a href=&quot;https://github.com/vimwiki/vimwiki&quot;&gt;vimwiki&lt;/a&gt; like workflow in org-roamthis function will be further modified so that it can closely replicate &lt;kbd&gt;vimwiki&lt;/kbd&gt; workflow (using &lt;kbd&gt;RET&lt;/kbd&gt; for making as well following the link depending on the context)
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;defun&lt;/span&gt; &lt;span class=&quot;org-function-name&quot;&gt;my/org-roam-link-word-at-point&lt;/span&gt; ()
  (&lt;span class=&quot;org-keyword&quot;&gt;interactive&lt;/span&gt;)
  (&lt;span class=&quot;org-keyword&quot;&gt;when&lt;/span&gt; (word-at-point t)
    (re-search-backward &lt;span class=&quot;org-string&quot;&gt;&quot;\\b&quot;&lt;/span&gt;)
    (mark-word)
    (call-interactively #&apos;org-roam-insert-immediate)))

(&lt;span class=&quot;org-keyword&quot;&gt;defun&lt;/span&gt; &lt;span class=&quot;org-function-name&quot;&gt;my/org-roam-open-or-link-at-point&lt;/span&gt; ()
  (&lt;span class=&quot;org-keyword&quot;&gt;interactive&lt;/span&gt;)
  (&lt;span class=&quot;org-keyword&quot;&gt;let&lt;/span&gt; ((context (org-element-context)))
    (&lt;span class=&quot;org-keyword&quot;&gt;if&lt;/span&gt; (equal (car context) &apos;link)
        (org-open-at-point)
        (my/org-roam-link-word-at-point))))
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Following local org-roam-mode is defined so that org-roam keybinding is valid only in org-roam-directory
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;define-minor-mode&lt;/span&gt; &lt;span class=&quot;org-function-name&quot;&gt;my/local-org-roam-mode&lt;/span&gt;
  &lt;span class=&quot;org-doc&quot;&gt;&quot;Local version of `&lt;/span&gt;&lt;span class=&quot;org-doc&quot;&gt;&lt;span class=&quot;org-constant&quot;&gt;org-roam-mode&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-doc&quot;&gt;&apos;.&lt;/span&gt;
&lt;span class=&quot;org-doc&quot;&gt;Does nothing, can be used for local keybindings.&quot;&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:init-value&lt;/span&gt; nil
  &lt;span class=&quot;org-builtin&quot;&gt;:global&lt;/span&gt; nil
  &lt;span class=&quot;org-builtin&quot;&gt;:lighter&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot; OR local&quot;&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:keymap&lt;/span&gt;  (&lt;span class=&quot;org-keyword&quot;&gt;let&lt;/span&gt; ((map (make-sparse-keymap)))
             map)
  &lt;span class=&quot;org-builtin&quot;&gt;:group&lt;/span&gt; &apos;org-roam
  &lt;span class=&quot;org-builtin&quot;&gt;:require&lt;/span&gt; &apos;org-roam
  (&lt;span class=&quot;org-keyword&quot;&gt;when&lt;/span&gt; my/local-org-roam-mode
    (message &lt;span class=&quot;org-string&quot;&gt;&quot;Local keybindings for Org Roam enabled&quot;&lt;/span&gt;)))
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;&lt;a id=&quot;keybinding&quot; class=&quot;anchor&quot; href=&quot;#keybinding&quot;&gt;¶&lt;/a&gt;Keybinding&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://www.masteringemacs.org/article/mastering-key-bindings-emacs&quot;&gt;mastering emacs&lt;/a&gt; tips for setting emacs keybindingWe will use &lt;kbd&gt;general.el&lt;/kbd&gt; package for our keybinding
&lt;/p&gt;
&lt;h3&gt;&lt;a id=&quot;a-hrefhttpsgithubcomnoctuidgeneralelgenerala-setup&quot; class=&quot;anchor&quot; href=&quot;#a-hrefhttpsgithubcomnoctuidgeneralelgenerala-setup&quot;&gt;¶&lt;/a&gt;&lt;a href=&quot;https://github.com/noctuid/general.el&quot;&gt;General&lt;/a&gt; setup&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;general&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
  (general-evil-setup t)
)
&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;&lt;a id=&quot;org-keybinding&quot; class=&quot;anchor&quot; href=&quot;#org-keybinding&quot;&gt;¶&lt;/a&gt;Org keybinding&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(general-define-key
 &lt;span class=&quot;org-builtin&quot;&gt;:states&lt;/span&gt; &apos;(normal visual)
 &lt;span class=&quot;org-builtin&quot;&gt;:keymaps&lt;/span&gt; &apos;org-mode-map
 &lt;span class=&quot;org-builtin&quot;&gt;:prefix&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;SPC&quot;&lt;/span&gt;
    &lt;span class=&quot;org-string&quot;&gt;&quot;e&quot;&lt;/span&gt;  &apos;(&lt;span class=&quot;org-builtin&quot;&gt;:ignore&lt;/span&gt; t &lt;span class=&quot;org-builtin&quot;&gt;:which-key&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;export&quot;&lt;/span&gt;)
    &lt;span class=&quot;org-string&quot;&gt;&quot;el&quot;&lt;/span&gt; &apos;org-latex-export-to-pdf
    &lt;span class=&quot;org-string&quot;&gt;&quot;ep&quot;&lt;/span&gt; &apos;org-publish-current-project
    &lt;span class=&quot;org-string&quot;&gt;&quot;s&quot;&lt;/span&gt; &apos;org-store-link
    &lt;span class=&quot;org-string&quot;&gt;&quot;o&quot;&lt;/span&gt; &apos;counsel-imenu
)
&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;&lt;a id=&quot;org-roam&quot; class=&quot;anchor&quot; href=&quot;#org-roam&quot;&gt;¶&lt;/a&gt;org-roam&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;      (general-define-key
       &lt;span class=&quot;org-builtin&quot;&gt;:states&lt;/span&gt; &apos;(normal visual)
       &lt;span class=&quot;org-builtin&quot;&gt;:keymaps&lt;/span&gt; &apos;my/local-org-roam-mode-map
       &lt;span class=&quot;org-builtin&quot;&gt;:prefix&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;SPC&quot;&lt;/span&gt;
       &lt;span class=&quot;org-string&quot;&gt;&quot;r&quot;&lt;/span&gt;  &apos;(&lt;span class=&quot;org-builtin&quot;&gt;:ignore&lt;/span&gt; t &lt;span class=&quot;org-builtin&quot;&gt;:which-key&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;roam&quot;&lt;/span&gt;)
       &lt;span class=&quot;org-string&quot;&gt;&quot;rr&quot;&lt;/span&gt; &apos;rename-file
       &lt;span class=&quot;org-string&quot;&gt;&quot;rd&quot;&lt;/span&gt; &apos;delete-file
       &lt;span class=&quot;org-string&quot;&gt;&quot;rh&quot;&lt;/span&gt; &apos;org-roam-jump-to-index
       &lt;span class=&quot;org-string&quot;&gt;&quot;rb&quot;&lt;/span&gt; &apos;org-roam
       )
&lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;rebind enter key in normal mode to my/org-roam-link-word-at-point&lt;/span&gt;
  (define-key my/local-org-roam-mode-map  [remap evil-ret] &apos;my/org-roam-open-or-link-at-point)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;&lt;a id=&quot;kbddir-localelkbd-for-org-roam-directory&quot; class=&quot;anchor&quot; href=&quot;#kbddir-localelkbd-for-org-roam-directory&quot;&gt;¶&lt;/a&gt;&lt;kbd&gt;.dir-local.el&lt;/kbd&gt; for org-roam-directory&lt;/h2&gt;&lt;p&gt;Add following to the &lt;kbd&gt;~/.org-roam/.dir-local.el&lt;/kbd&gt; file
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;&lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;for exporting all org-roam notes as light html project&lt;/span&gt;
  ((nil . ((eval .
  (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; org-publish-project-alist
        &apos;(
  (&lt;span class=&quot;org-string&quot;&gt;&quot;org-notes&quot;&lt;/span&gt;
   &lt;span class=&quot;org-builtin&quot;&gt;:base-directory&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;~/.org-roam/&quot;&lt;/span&gt;
   &lt;span class=&quot;org-builtin&quot;&gt;:base-extension&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;org&quot;&lt;/span&gt;
   &lt;span class=&quot;org-builtin&quot;&gt;:publishing-directory&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;~/.org-roam/public_html/&quot;&lt;/span&gt;
   &lt;span class=&quot;org-builtin&quot;&gt;:recursive&lt;/span&gt; t
   &lt;span class=&quot;org-builtin&quot;&gt;:publishing-function&lt;/span&gt; org-html-publish-to-html
   &lt;span class=&quot;org-builtin&quot;&gt;:headline-levels&lt;/span&gt; 4             &lt;span class=&quot;org-comment-delimiter&quot;&gt;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;Just the default for this project.&lt;/span&gt;
   &lt;span class=&quot;org-builtin&quot;&gt;:auto-preamble&lt;/span&gt; t
   )
  (&lt;span class=&quot;org-string&quot;&gt;&quot;org-static&quot;&lt;/span&gt;
   &lt;span class=&quot;org-builtin&quot;&gt;:base-directory&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;~/.org-roam/&quot;&lt;/span&gt;
   &lt;span class=&quot;org-builtin&quot;&gt;:base-extension&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;css&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-backslash&quot;&gt;\\&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-construct&quot;&gt;|&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;js&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-backslash&quot;&gt;\\&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-construct&quot;&gt;|&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;png&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-backslash&quot;&gt;\\&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-construct&quot;&gt;|&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;jpg&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-backslash&quot;&gt;\\&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-construct&quot;&gt;|&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;gif&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-backslash&quot;&gt;\\&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-construct&quot;&gt;|&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;pdf&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-backslash&quot;&gt;\\&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-construct&quot;&gt;|&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;mp3&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-backslash&quot;&gt;\\&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-construct&quot;&gt;|&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;ogg&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-backslash&quot;&gt;\\&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;&lt;span class=&quot;org-regexp-grouping-construct&quot;&gt;|&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;org-string&quot;&gt;swf&quot;&lt;/span&gt;
   &lt;span class=&quot;org-builtin&quot;&gt;:publishing-directory&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;~/.org-roam/public_html/&quot;&lt;/span&gt;
   &lt;span class=&quot;org-builtin&quot;&gt;:recursive&lt;/span&gt; t
   &lt;span class=&quot;org-builtin&quot;&gt;:publishing-function&lt;/span&gt; org-publish-attachment
   )
  (&lt;span class=&quot;org-string&quot;&gt;&quot;org&quot;&lt;/span&gt; &lt;span class=&quot;org-builtin&quot;&gt;:components&lt;/span&gt; (&lt;span class=&quot;org-string&quot;&gt;&quot;org-notes&quot;&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;org-static&quot;&lt;/span&gt;))
        ))
  )))
&lt;span class=&quot;org-comment-delimiter&quot;&gt;;; &lt;/span&gt;&lt;span class=&quot;org-comment&quot;&gt;enable local org-roam-mode for files in this folder&lt;/span&gt;
  (nil
   (eval my/local-org-roam-mode +1))
   )
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;&lt;a id=&quot;migration-from-vimwiki-to-org-roam&quot; class=&quot;anchor&quot; href=&quot;#migration-from-vimwiki-to-org-roam&quot;&gt;¶&lt;/a&gt;Migration from vimwiki to org-roam&lt;/h2&gt;&lt;table class=&quot;table table-dark&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Vimwiki keybind&lt;/td&gt;&lt;td&gt;Vimwiki function description&lt;/td&gt;&lt;td&gt;corresponding org-roam/emacs function&lt;/td&gt;&lt;td&gt;optional keybinding in emacs&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&amp;lt;Leader&amp;gt;ww&lt;/td&gt;&lt;td&gt;Open default wiki index file.&lt;/td&gt;&lt;td&gt;&lt;kbd&gt;org-roam-jump-to-index&lt;/kbd&gt;&lt;/td&gt;&lt;td&gt;&lt;kbd&gt;SPC r h&lt;/kbd&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&amp;lt;Leader&amp;gt;wd&lt;/td&gt;&lt;td&gt;Delete wiki file you are in.&lt;/td&gt;&lt;td&gt;&lt;kbd&gt;delete-file&lt;/kbd&gt;&lt;/td&gt;&lt;td&gt;&lt;kbd&gt;SPC r d&lt;/kbd&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&amp;lt;Leader&amp;gt;wr&lt;/td&gt;&lt;td&gt;Rename wiki file you are in.&lt;/td&gt;&lt;td&gt;&lt;kbd&gt;rename-file&lt;/kbd&gt;&lt;/td&gt;&lt;td&gt;&lt;kbd&gt;SPC r r&lt;/kbd&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&amp;lt;Enter&amp;gt;&lt;/td&gt;&lt;td&gt;Follow/Create wiki link.&lt;/td&gt;&lt;td&gt;&lt;kbd&gt;my/org-roam-open-or-link-at-point&lt;/kbd&gt;&lt;/td&gt;&lt;td&gt;&lt;kbd&gt;RET&lt;/kbd&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&amp;lt;Shift-Enter&amp;gt;&lt;/td&gt;&lt;td&gt;Split and follow/create wiki link.&lt;/td&gt;&lt;td&gt;window management can be done separately&lt;/td&gt;&lt;td&gt;NA&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&amp;lt;Ctrl-Enter&amp;gt;&lt;/td&gt;&lt;td&gt;Vertical split and follow/create wiki link.&lt;/td&gt;&lt;td&gt;window management can be done separately&lt;/td&gt;&lt;td&gt;NA&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&amp;lt;Backspace&amp;gt;&lt;/td&gt;&lt;td&gt;Go back to parent(previous) wiki link.&lt;/td&gt;&lt;td&gt;use switch-buffer&lt;/td&gt;&lt;td&gt;&lt;kbd&gt;C-x b&lt;/kbd&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&amp;lt;Tab&amp;gt;&lt;/td&gt;&lt;td&gt;Find next wiki link.&lt;/td&gt;&lt;td&gt;Will update&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&amp;lt;Shift-Tab&amp;gt;&lt;/td&gt;&lt;td&gt;Find previous wiki link.&lt;/td&gt;&lt;td&gt;Will update&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;:VimwikiAll2HTML&lt;/td&gt;&lt;td&gt;Convert all your wiki links to HTML.&lt;/td&gt;&lt;td&gt;&lt;kbd&gt;org-publish-current-project&lt;/kbd&gt;&lt;/td&gt;&lt;td&gt;&lt;kbd&gt;SPC e p&lt;/kbd&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;To use Follow link feature of &lt;kbd&gt;vimwiki&lt;/kbd&gt; in &lt;kbd&gt;org-roam&lt;/kbd&gt;, one can use  &lt;kbd&gt;C-c C-o&lt;/kbd&gt; (&lt;kbd&gt;org-open-at-point&lt;/kbd&gt;) function.TODO : The &lt;kbd&gt;my/org-roam-open-or-link-at-point&lt;/kbd&gt; can be modified further so that &lt;kbd&gt;RET&lt;/kbd&gt; can make link word out of region selected. Will soon update this function.
&lt;/p&gt;

&lt;h2&gt;&lt;a id=&quot;workflow&quot; class=&quot;anchor&quot; href=&quot;#workflow&quot;&gt;¶&lt;/a&gt;Workflow&lt;/h2&gt;&lt;p&gt;TODO
&lt;/p&gt;
&lt;/div&gt;</div></div></div></div>&lt;footer class=&quot;blog-footer&quot;&gt;&lt;div class=&quot;container&quot;&gt;&lt;div class=&quot;row&quot;&gt;&lt;div class=&quot;col-sm col-md text-sm-left text-md-right text-lg-right text-xl-right&quot;&gt;&lt;p&gt;Made with Emacs 27.2 (Org mode 9.4.4)&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://systemcrafters.net/privacy-policy/&quot;&gt;Privacy Policy&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/footer&gt;&lt;script src=&quot;/js/bootstrap.bundle.min.js&quot;/&gt;</body></html>
