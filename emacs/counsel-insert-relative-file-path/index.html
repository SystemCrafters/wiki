<!DOCTYPE html><html lang="en"><head>&lt;!--  --&gt;<meta charset="utf-8"/><meta author="David Wilson"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="stylesheet" href="/css/bootstrap.min.css"/><link rel="stylesheet" href="/fonts/iosevka-aile/iosevka-aile.css"/><link rel="stylesheet" href="/fonts/jetbrains-mono/jetbrains-mono.css"/><link rel="stylesheet" href="/css/code.css"/><link rel="stylesheet" href="/css/site.css"/><script defer="defer" data-domain="wiki.systemcrafters.net" src="https://plausible.io/js/plausible.js"></script><title> - System Crafters</title></head><body>&lt;div&gt;&lt;div class=&quot;blog-header&quot;&gt;&lt;div class=&quot;container&quot;&gt;&lt;div class=&quot;row align-items-center justify-content-between&quot;&gt;&lt;div class=&quot;col-sm-12 col-md-8&quot;&gt;&lt;div class=&quot;blog-title&quot;&gt;System Crafters&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;col-sm col-md&quot;&gt;&lt;div class=&quot;blog-description text-sm-left text-md-right text-lg-right text-xl-right&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;blog-masthead&quot;&gt;&lt;div class=&quot;container&quot;&gt;&lt;div class=&quot;row align-items-center justify-content-between&quot;&gt;&lt;div class=&quot;col-sm-12 col-md-12&quot;&gt;&lt;nav class=&quot;nav&quot;&gt;&lt;a class=&quot;nav-link&quot; href=&quot;/&quot;&gt;Main Page&lt;/a&gt; &lt;a class=&quot;nav-link&quot; href=&quot;/emacs&quot;&gt;GNU Emacs&lt;/a&gt; &lt;a class=&quot;nav-link&quot; href=&quot;/guix&quot;&gt;GNU Guix&lt;/a&gt;&lt;a class=&quot;nav-link&quot; href=&quot;https://systemcrafters.net&quot;&gt;System Crafters Home&lt;/a&gt;&lt;form class=&quot;navbar-form navbar-right&quot; role=&quot;search&quot; action=&quot;https://duckduckgo.com/&quot;&gt;&lt;div class=&quot;form-group&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;q&quot; class=&quot;form-control&quot; placeholder=&quot;Search Wiki&quot; style=&quot;overflow: hidden;margin-top: 3%;margin-bottom: 2%;&quot;/&gt;&lt;input type=&quot;hidden&quot; name=&quot;sites&quot; value=&quot;wiki.systemcrafters.net&quot;/&gt;&lt;/div&gt;&lt;/form&gt; &lt;/nav&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<div class="container"><div class="row"><div class="col-sm-12 blog-main"><div class="blog-post"><h1 class="blog-post-title"></h1><p class="blog-post-meta"></p>&lt;div&gt;&lt;h2&gt;&lt;a id=&quot;insert-relative-file-path-in-current-buffer-using-counsel&quot; class=&quot;anchor&quot; href=&quot;#insert-relative-file-path-in-current-buffer-using-counsel&quot;&gt;¶&lt;/a&gt;Insert relative file path in current buffer using counsel&lt;/h2&gt;&lt;h3&gt;&lt;a id=&quot;&quot; class=&quot;anchor&quot; href=&quot;#&quot;&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Useful while inserting figures path/name in &lt;kbd&gt;latex&lt;/kbd&gt;. Similar to &lt;kbd&gt;C-x C-f&lt;/kbd&gt;  in  &lt;kbd&gt;vim&lt;/kbd&gt;.
&lt;/p&gt;

&lt;p&gt;source: &lt;a href=&quot;https://emacs.stackexchange.com/questions/39105/insert-file-path-via-counsel&quot;&gt;stack answer&lt;/a&gt;
&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;defun&lt;/span&gt; &lt;span class=&quot;org-function-name&quot;&gt;try-counsel-insert-file-path&lt;/span&gt; ()
  &lt;span class=&quot;org-doc&quot;&gt;&quot;Insert relative file path in current buffer using counsel in minibuffer&quot;&lt;/span&gt;
  (&lt;span class=&quot;org-keyword&quot;&gt;interactive&lt;/span&gt;)
  (&lt;span class=&quot;org-keyword&quot;&gt;unless&lt;/span&gt; (&lt;span class=&quot;org-keyword&quot;&gt;featurep&lt;/span&gt; &apos;&lt;span class=&quot;org-constant&quot;&gt;counsel&lt;/span&gt;) (&lt;span class=&quot;org-keyword&quot;&gt;require&lt;/span&gt; &apos;&lt;span class=&quot;org-constant&quot;&gt;counsel&lt;/span&gt;))
  (ivy-read &lt;span class=&quot;org-string&quot;&gt;&quot;Insert filename: &quot;&lt;/span&gt; &apos;read-file-name-internal
            &lt;span class=&quot;org-builtin&quot;&gt;:matcher&lt;/span&gt; #&apos;counsel--find-file-matcher
            &lt;span class=&quot;org-builtin&quot;&gt;:action&lt;/span&gt;
            (&lt;span class=&quot;org-keyword&quot;&gt;lambda&lt;/span&gt; (x)
                 (insert (file-relative-name x)))))
&lt;/code&gt;&lt;/pre&gt;



&lt;h3&gt;&lt;a id=&quot;&quot; class=&quot;anchor&quot; href=&quot;#&quot;&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Recommended keybinding and counsel setting
&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;general&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
  (general-evil-setup t)

  (general-create-definer try/ctrl-c-keys
    &lt;span class=&quot;org-builtin&quot;&gt;:prefix&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;C-c&quot;&lt;/span&gt;))

  (try/ctrl-c-keys
    &lt;span class=&quot;org-string&quot;&gt;&quot;i&quot;&lt;/span&gt;   &apos;(try-counsel-insert-file-path &lt;span class=&quot;org-builtin&quot;&gt;:which-key&lt;/span&gt; &lt;span class=&quot;org-string&quot;&gt;&quot;insert relative filepath&quot;&lt;/span&gt;)
  )
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&quot;emacs-lisp&quot;&gt;(&lt;span class=&quot;org-keyword&quot;&gt;use-package&lt;/span&gt; &lt;span class=&quot;org-constant&quot;&gt;counsel&lt;/span&gt;
  &lt;span class=&quot;org-builtin&quot;&gt;:diminish&lt;/span&gt; ivy-mode
  &lt;span class=&quot;org-builtin&quot;&gt;:diminish&lt;/span&gt; counsel-mode
  &lt;span class=&quot;org-builtin&quot;&gt;:bind&lt;/span&gt; ((&lt;span class=&quot;org-string&quot;&gt;&quot;C-s&quot;&lt;/span&gt; . swiper)
       &lt;span class=&quot;org-builtin&quot;&gt;:map&lt;/span&gt; ivy-minibuffer-map
       (&lt;span class=&quot;org-string&quot;&gt;&quot;TAB&quot;&lt;/span&gt; . ivy-alt-done))
  &lt;span class=&quot;org-builtin&quot;&gt;:init&lt;/span&gt;
  (ivy-mode 1)
  (counsel-mode 1)
  &lt;span class=&quot;org-builtin&quot;&gt;:config&lt;/span&gt;
  (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; ivy-use-virtual-buffers t)
  (&lt;span class=&quot;org-keyword&quot;&gt;setq&lt;/span&gt; enable-recursive-minibuffers t))
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;</div></div></div></div>&lt;footer class=&quot;blog-footer&quot;&gt;&lt;div class=&quot;container&quot;&gt;&lt;div class=&quot;row&quot;&gt;&lt;div class=&quot;col-sm col-md text-sm-left text-md-right text-lg-right text-xl-right&quot;&gt;&lt;p&gt;Made with Emacs 27.2 (Org mode 9.4.4)&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://systemcrafters.net/privacy-policy/&quot;&gt;Privacy Policy&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/footer&gt;&lt;script src=&quot;/js/bootstrap.bundle.min.js&quot;/&gt;</body></html>
